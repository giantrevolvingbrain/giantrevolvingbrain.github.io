<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Program 5: Classes - Pick a number | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-local-video/video-js.min.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./assignment01.html" />
    
    
    <link rel="prev" href="./program04.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="2.5"
        data-chapter-title="Program 5: Classes - Pick a number"
        data-filepath="program05.md"
        data-basepath="."
        data-revision="Mon May 09 2016 16:40:40 GMT-0400 (EDT)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="setup.html">
            
            <span><b>1.</b> Setup</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="setup01.html">
            
                
                    <a href="./setup01.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Setup 1: Installing Node JS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="setup02.html">
            
                
                    <a href="./setup02.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Setup 2: Installing Visual Studio Code
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="programs.html">
            
            <span><b>2.</b> Programs</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="program01.html">
            
                
                    <a href="./program01.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Program 1: Creating Program Projects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="program02.html">
            
                
                    <a href="./program02.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Program 2: Getting User Input
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="program03.html">
            
                
                    <a href="./program03.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Program 3: Synchronous vs. Asynchronous
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="program04.html">
            
                
                    <a href="./program04.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Program 4: Classes - The Terminal Class
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.5" data-path="program05.html">
            
                
                    <a href="./program05.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Program 5: Classes - Pick a number
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="assignment01.html">
            
                
                    <a href="./assignment01.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Assignment 1:  Modify Pick a number
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="program06.html">
            
                
                    <a href="./program06.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Program 6: Classes - Tic-Tac-Toe.
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="assignment02.html">
            
                
                    <a href="./assignment02.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                        Assignment 2: Finish Tic-Tac-Toe
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="program-5-pick-a-number">Program 5: Pick a number</h1>
<p>You now have enough to create a simple game.</p>
<p>Pick a number. This is allow us to also show conditional logic. Conditional Logic is code that only runs when certain conditions are met.</p>
<h2 id="conditional-code">Conditional code</h2>
<p>This will use the &quot;if&quot; statement and the &quot;else&quot; statement.</p>
<p>You can read more about if <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else" target="_blank">Documented here</a></p>
<pre><code class="lang-javascript"><span class="hljs-keyword">if</span> (..somecondition..) {
    <span class="hljs-comment">// Run this code </span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// run this code</span>
}
</code></pre>
<p>If the condition is met then it runs the first block of code
otherwise it runs the else code. The else code is optional.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">if</span> (..somecondition..) {
    <span class="hljs-comment">// Run this code </span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (..someOtherCondition..) {
    <span class="hljs-comment">// Run this code </span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Both conditions not met</span>
}
</code></pre>
<h2 id="create-the-project">Create the project</h2>
<p>Create a new project like we did in <a href="program01.html">program 1</a> except leave the file empty.</p>
<p>Save it as app.js.
Recreate or copy the terminal.js from <a href="program04.html">Program 4: Classes: The Terminal Class</a></p>
<p>Add the code to include the terminal. Notice do not create the terminal object. We will do that later.</p>
<pre><code class="lang-javascript"><span class="hljs-pi">&quot;use strict&quot;</span>

<span class="hljs-keyword">const</span> Terminal = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./terminal&apos;</span>)
</code></pre>
<h2 id="creating-a-game-class">Creating a game class</h2>
<p>Our game is a simple &apos;Pick a number&apos; game. With the folllowing basic structure.</p>
<pre><code class="lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Game</span> </span>{
  constructor() {
  }
  start() {
  }
  end() {
  }
  askToPlayAgain() {
  }
  playTurn() {
  } 
}
</code></pre>
<ul>
<li>constructor - creates the game.</li>
<li>start - starts a new game</li>
<li>end - will end the game, cleanup so the program ends</li>
<li>askToPlayAgain - will do just that ask to see if the player would like to play again</li>
<li>playTurn - will play one turn</li>
</ul>
<h2 id="constructor">Constructor</h2>
<p>The only data we need for this game is the terminal.</p>
<pre><code class="lang-javascript">constructor() {
    <span class="hljs-keyword">this</span>.terminal = <span class="hljs-keyword">new</span> Terminal();
}
</code></pre>
<h2 id="ending-the-game">Ending the game</h2>
<p>The end of the game, we will release the terminal by closing it</p>
<pre><code class="lang-javascript">end() {
   <span class="hljs-keyword">this</span>.terminal.close();
}
</code></pre>
<h2 id="starting-the-game">Starting the game</h2>
<p> When the game starts we will clear the screen and then play a turn.
 Notice that we play a turn on &apos;this&apos; game.</p>
<pre><code class="lang-javascript">start() {
    <span class="hljs-keyword">this</span>.terminal.clearScreen();
    <span class="hljs-keyword">this</span>.playTurn();
}
</code></pre>
<h2 id="ask-to-play-again">Ask to play again</h2>
<p> To play again we simply as the question. If the users types &apos;quit&apos; then we end this game, otherwise we play another turn.</p>
<pre><code class="lang-javascript"> askToPlayAgain() {
    <span class="hljs-keyword">this</span>.terminal.question(<span class="hljs-string">&quot;Type &apos;quit&apos; then enter to end. Or hit Enter to play again.&quot;</span>, (line) =&gt; {
        <span class="hljs-keyword">if</span> (line===<span class="hljs-string">&apos;quit&apos;</span>) {
          <span class="hljs-keyword">this</span>.end();
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">this</span>.playTurn();
        }
    })
  }
</code></pre>
<h2 id="playing-a-turn">Playing a turn</h2>
<p>We will pick a number between 1 an 10. Ask the user to guess.
Tell them if they:</p>
<ul>
<li>Guess too low</li>
<li>Guess too high</li>
<li>Guess it right</li>
</ul>
<p>Then ask to play again.</p>
<pre><code class="lang-javscript">playTurn() {
    // Notice we need to wait to close the terminal
    // until we are done using it
    this.terminal.question(&quot;Pick a number between 1 and 10?&quot;, (line) =&gt; {
      let pick = parseInt(line);
      let secret = Math.floor((Math.random() * 10) + 1);

      if (pick &lt; 1) {
        this.terminal.writeLine(&quot;Too low&quot;)
      } else if (pick &gt; 10) {
        this.terminal.writeLine(&quot;Too high&quot;)
      } else if (pick === secret) {
        this.terminal.writeLine(&quot;How did you know? That&apos;s right!&quot;)
      } else {
        this.terminal.writeLine(&quot;Sorry, I was thinking &quot; + secret)
      }
      this.askToPlayAgain();
    })

  }
</code></pre>
<h3 id="strings-numbers-and-randomness">Strings, Numbers and randomness</h3>
<p>The user input in this case needs to be a number. The data we get it text or a &apos;string&apos;.
The parseInt function is used to convert a string to a number.</p>
<p>Turn learn more about data types see: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures</a></p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> pick = <span class="hljs-built_in">parseInt</span>(line);
</code></pre>
<p>The way to add randomness to things is to use the Math.random function. This returns a floating point number between 0 and 1.
We multiple this by 10 giving us a number between 0 and 10 (but less than 10)
This is a floating pint number so it has decimal places for example 3.767.
The Math.floor function rounds the number down chopping off the decimals - so 3.767 become 3.
We add one to this to get a number between 1 and 10. </p>
<p>To learn more about the Math reusable object see: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math</a></p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> secret = <span class="hljs-built_in">Math</span>.floor((<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">10</span>) + <span class="hljs-number">1</span>);
</code></pre>
<h3 id="conditional-logic">Conditional logic</h3>
<p>The if statement checks conditions and executes code if the conditions are met.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">if</span> (pick &lt; <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">this</span>.terminal.writeLine(<span class="hljs-string">&quot;Too low&quot;</span>)
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pick &gt; <span class="hljs-number">10</span>) {
    <span class="hljs-keyword">this</span>.terminal.writeLine(<span class="hljs-string">&quot;Too high&quot;</span>)
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pick === secret) {
    <span class="hljs-keyword">this</span>.terminal.writeLine(<span class="hljs-string">&quot;How did you know? That&apos;s right!&quot;</span>)
} <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">this</span>.terminal.writeLine(<span class="hljs-string">&quot;Sorry, I was thinking &quot;</span> + secret)
}
</code></pre>
<p>So if the number is less than one, its out of the range.
Likewise if its greater than 10 it is also out of range.
If its euqal then they got it right.</p>
<p>By chaining the if-else with another if we know the final else none- of th previous conditons were met.</p>
<h3 id="trigger-playing-again">Trigger playing again</h3>
<p>The last step is to ask to play again.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">this</span>.askToPlayAgain();
</code></pre>
<h2 id="creating-the-game-and-staring-it">Creating the game and staring it</h2>
<p>Finally we use the class we created.</p>
<ul>
<li>Create a game </li>
<li>start it</li>
</ul>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> game = <span class="hljs-keyword">new</span> Game();
game.start();
</code></pre>
<h2 id="flow-of-execution">Flow of execution</h2>
<p>This would be a good time to talk about the flow of execution.</p>
<p>We discuss code running in order and code runnning in response to events.</p>
<p>With this simple game the flow of execution is getting complicated already.</p>
<p>So its worth checking in to see if it makes sense.</p>
<ul>
<li>the game is created with &apos;new Game()&apos; and the constructor is called</li>
<li>start is called, execution flows playTurn</li>
<li>any other code after start would then run, however there is none</li>
<li>Nothing happens until the question of pick an number is answered</li>
<li>The event of picking a number triggers the code to check the answer</li>
<li>Then it flows to askToPlayAgain</li>
<li>The program again does nothing until that question is answered</li>
</ul>
<p>Study this until you see this flow of execution.</p>
<p>It is not straightforward and not step-by-step. Understanding how this flow execution is happening is important.  </p>
<h2 id="running-the-program">Running the program</h2>
<p>As described before in <a href="program01.html">program 1</a> </p>
<p>From the command line type: node app.js</p>
<pre><code>C:\&gt; node app.js
</code></pre><h2 id="complete-code-for-appjs">Complete code for app.js</h2>
<pre><code class="lang-js"><span class="hljs-pi">&quot;use strict&quot;</span>

<span class="hljs-keyword">const</span> Terminal = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;./terminal&apos;</span>)

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Game</span> </span>{
  constructor() {
    <span class="hljs-keyword">this</span>.terminal = <span class="hljs-keyword">new</span> Terminal();
  }
  start() {
    <span class="hljs-keyword">this</span>.terminal.clearScreen();
    <span class="hljs-keyword">this</span>.playTurn();
  }
  end() {
    <span class="hljs-comment">// This tells the system we are done using input and output</span>
    <span class="hljs-keyword">this</span>.terminal.close();
  }
  askToPlayAgain() {
    <span class="hljs-keyword">this</span>.terminal.question(<span class="hljs-string">&quot;Type &apos;quit&apos; then enter to end. Or hit Enter to play again.&quot;</span>, (line) =&gt; {
        <span class="hljs-keyword">if</span> (line===<span class="hljs-string">&apos;quit&apos;</span>) {
          <span class="hljs-keyword">this</span>.end();
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">this</span>.playTurn();
        }
    })
  }
  playTurn() {
    <span class="hljs-comment">// Notice we need to wait to close the terminal</span>
    <span class="hljs-comment">// until we are done using it</span>
    <span class="hljs-keyword">this</span>.terminal.question(<span class="hljs-string">&quot;Pick a number between 1 and 10?&quot;</span>, (line) =&gt; {
      <span class="hljs-keyword">let</span> pick = <span class="hljs-built_in">parseInt</span>(line);
      <span class="hljs-keyword">let</span> secret = <span class="hljs-built_in">Math</span>.floor((<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">10</span>) + <span class="hljs-number">1</span>);

      <span class="hljs-keyword">if</span> (pick &lt; <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">this</span>.terminal.writeLine(<span class="hljs-string">&quot;Too low&quot;</span>)
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pick &gt; <span class="hljs-number">10</span>) {
        <span class="hljs-keyword">this</span>.terminal.writeLine(<span class="hljs-string">&quot;Too high&quot;</span>)
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pick === secret) {
        <span class="hljs-keyword">this</span>.terminal.writeLine(<span class="hljs-string">&quot;How did you know? That&apos;s right!&quot;</span>)
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.terminal.writeLine(<span class="hljs-string">&quot;Sorry, I was thinking &quot;</span> + secret)
      }
      <span class="hljs-keyword">this</span>.askToPlayAgain();
    })

  }
}

<span class="hljs-keyword">let</span> game = <span class="hljs-keyword">new</span> Game();
game.start();
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./program04.html" class="navigation navigation-prev " aria-label="Previous page: Program 4: Classes - The Terminal Class"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./assignment01.html" class="navigation navigation-next " aria-label="Next page: Assignment 1:  Modify Pick a number"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-local-video/video.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"local-video":{},"include-highlight":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
